#! /bin/bash
INTERVAL="1h"
CRON="0 * * * *"
######################
#  IPQUERY YOURSELF  #
################################################################################
#------------------------------------------------------------------------------#
#
# 20171201
# h8rt3rmin8r
# 161803398@email.tg
#
# SOURCE:
# https://freeapi.robtex.com
#
#------------------------------------------------------------------------------#
################################
#    VARIABLES                 #
################################
#------------------------------------------------------------------------------#

# INTERVAL SCRIPT ROTATION SETTINGS (COPPIED FROM ABOVE)
# INTERVAL="1h"
# CRON="0 * * * *"

# PROJECT TAG
PRO="ipquery-"

# DATE-TIME VARIABLE
DATE="`date '+%Y%m%d%H%M%S'`"

# URL BUILDING
X='https://freeapi.robtex.com/ipquery/'
IP=`curl -Ss https://domains.google.com/checkip`

# ARCHIVE FILE TYPES
JSON=".json"
XML=".xml"

#------------------------------------------------------------------------------#
################################
#    FUNCTIONS                 #
################################
#------------------------------------------------------------------------------#

curl -Ss ${X}${IP} | jq '.' >> .archive/${PRO}${DATE}${JSON}

#------------------------------------------------------------------------------#
################################################################################
                                                 ###                         ###
                                                 ### "think outside the box" ###
                                                 ###   ($) ¯\_(ツ)_/¯ (฿)    ###
                                                 ###                         ###
                                                 ###############################
